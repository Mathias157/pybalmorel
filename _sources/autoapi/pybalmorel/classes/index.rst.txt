pybalmorel.classes
==================

.. py:module:: pybalmorel.classes

.. autoapi-nested-parse::

   Created on 08.06.2024

   @author: Mathias Berg Rosendal, PhD Student at DTU Management (Energy Economics & Modelling)



Classes
-------

.. autoapisummary::

   pybalmorel.classes.MainResults
   pybalmorel.classes.IncFile
   pybalmorel.classes.Balmorel
   pybalmorel.classes.GUI


Module Contents
---------------

.. py:class:: MainResults(files: Union[str, list, tuple], paths: Union[str, list, tuple] = '.', scenario_names: Union[str, list, tuple] = None, system_directory: str = None, result_type: str = 'balmorel')

   .. py:attribute:: files


   .. py:attribute:: paths


   .. py:attribute:: sc


   .. py:attribute:: type


   .. py:attribute:: db


   .. py:method:: get_result(symbol: str, cols: Tuple[list, None] = None) -> pandas.DataFrame

      Get a certain result from the loaded gdx file(s) into a pandas DataFrame

      Args:
          symbol (str): The desired result, e.g. PRO_YCRAGF
          cols (str, optional): Specify custom columns. Defaults to pre-defined formats.

      Returns:
          pd.DataFrame: The output DataFrame



   .. py:method:: interactive_bar_chart()

      GUI for bar chart plotting



   .. py:method:: plot_profile(commodity: str, year: int, scenario: str = 0, columns: str = 'Technology', region: str = 'ALL', style: str = 'light') -> Tuple[matplotlib.figure.Figure, matplotlib.axes.Axes]

      Plots the production profile of a commodity, in a year, for a certain scenario

      Args:
          commodity (str): The commodity (Electricity, Heat or Hydrogen)
          year (int): The model year to plot
          scenario (str, optional): Defaults to the first scenario in MainResults.
          columns (str, optional): Technology or Fuel as . Defaults to 'Technology'.
          region (str, optional): Which country, region or area to plot. Defaults to 'ALL'.
          style (str, optional): Plot style, light or dark. Defaults to 'light'.

      Returns:
          Figure, Axes: The figure and axes objects for further manipulations 



   .. py:method:: plot_map(scenario: str, commodity: str, year: int, path_to_geofile: str = None, bypass_path: str = None, geo_file_region_column: str = 'id', style: str = 'light') -> Tuple[matplotlib.figure.Figure, matplotlib.axes.Axes]

      Plots the transmission capacities in a scenario, of a certain commodity

      Args:
          path_to_result (str): Path to the .gdx file
          scenario (str): The scenario name
          commodity (str): Electricity or hydrogen
          year (int): Model year 
          path_to_geofile (str, optional): The path to the fitting geofile. Defaults to '../geofiles/2024 BalmorelMap.geojson' in package directory.
          bypass_path (str, optional): Extra coordinates for transmission lines for beauty. Defaults to '../geofiles/bypass_lines' in package directory.
          geo_file_region_column (str, optional): The columns containing the region names of MainResults. Defaults to 'id'.
          style (str, optional): Plot style. Defaults to 'light'.

      Returns:
          Tuple[Figure, Axes]: The figure and axes objects of the plot



   .. py:method:: _existing_func_wrapper(function, *args, **kwargs)


.. py:class:: IncFile(prefix: str = '', body: str = '', suffix: str = '', name: str = 'name', path: str = 'Balmorel/base/data/')

   A useful class for creating .inc-files for GAMS models
   Args:
   prefix (str): The first part of the .inc file.
   body (str): The main part of the .inc file.
   suffix (str): The last part of the .inc file.
   name (str): The name of the .inc file.
   path (str): The path to save the file, defaults to 'Balmorel/base/data'.


   .. py:attribute:: prefix


   .. py:attribute:: body


   .. py:attribute:: suffix


   .. py:attribute:: name


   .. py:attribute:: path


   .. py:method:: body_concat(df: pandas.DataFrame)

      Concatenate a body temporarily being a dataframe to another dataframe
              



   .. py:method:: body_prepare(index: list, columns: list, values: str = 'Value', aggfunc: str = 'sum', fill_value: Union[str, int] = '')


   .. py:method:: save()


.. py:class:: Balmorel(model_folder: str, gams_system_directory: str = None)

   A class that recognises the Balmorel folder structure, can be used to run scenarios or results

   Args:
       model_folder (str): The top level folder of Balmorel, where base and simex are located


   .. py:attribute:: _gams_system_directory


   .. py:attribute:: path


   .. py:attribute:: scenarios


   .. py:attribute:: input_data


   .. py:method:: collect_results()


   .. py:method:: run(scenario: str, cmd_line_options: dict = {})


   .. py:method:: load_incfiles(scenario: str = 'base', use_provided_read_files: bool = True, read_file: str = 'Balmorel_ReadData', overwrite: bool = False)

      Will load .inc files from the specific scenario

      Args:
          scenario (str, optional): The scenario that you . Defaults to 'base'.
          use_provided_read_files (bool, optional): Use provided Balmorel_ReadData.gms and Balmorelbb4_ReadData.inc. Defaults to True.
          read_file (str, optional): The name of the read file to be executed. Defaults to Balmorel_ReadData
          overwrite (bool, optional): Will overwrite an existing %scenario%_input_data.gdx file from a previous .load_incfiles execution 
          
      Raises:
          KeyError: _description_



.. py:class:: GUI

   .. py:method:: bar_chart(MainResults_instance)

      Interactive GUI to plot bar charts from MainResults

      Args:
          MainResults_instance (class): Loaded MainResults

      Returns:
          None: An interactive GUI is opened to plot bar charts 



   .. py:method:: geofilemaker()

      Opens a GUI to interactively generate necessary .inc files for Balmorel geography

      Returns:
          None: An interactive GUI to generate geographic .inc files



